"use strict";(self.webpackChunkvuexy=self.webpackChunkvuexy||[]).push([[707],{51707:(w,b,o)=>{o.r(b),o.d(b,{SubjectsModule:()=>q});var u=o(36895),a=o(15861),t=o(94650),l=o(48111),h=o(43187),p=o(92340);let m=(()=>{class s{constructor(){this.supabase=(0,h.eI)(p.N.supabase.url,p.N.supabase.key)}getSubjects(){return this.supabase.from("subjects").select("*").order("id",{ascending:!0})}getSubjectViaId(e){return this.supabase.from("subjects").select("*").eq("id",e)}getChapters(e){return this.supabase.from("subject_chapters").select("*").eq("subject_id",e).order("id",{ascending:!0})}updateChapterStatus(e,c){return this.supabase.from("subject_chapters").update({is_completed:c}).eq("id",e)}getTopics(e){return this.supabase.from("subject_topics").select("*").eq("subject_id",e).order("id",{ascending:!0})}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),f=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-card"]],inputs:{subject:"subject"},decls:37,vars:9,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"row","text-center"],[1,"col-2"],[1,"subject-card-title"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"p",6),t._uU(10,"Subject Code"),t.qZA()(),t.TgZ(11,"div",5)(12,"p"),t._uU(13),t.qZA(),t.TgZ(14,"p",6),t._uU(15,"Number of block"),t.qZA()(),t.TgZ(16,"div",5)(17,"p"),t._uU(18),t.qZA(),t.TgZ(19,"p",6),t._uU(20,"Number of Chapters"),t.qZA()(),t.TgZ(21,"div",5)(22,"p"),t._uU(23),t.qZA(),t.TgZ(24,"p",6),t._uU(25,"Completed Chapters"),t.qZA()(),t.TgZ(26,"div",5)(27,"p"),t._uU(28),t.qZA(),t.TgZ(29,"p",6),t._uU(30,"Next Chapter"),t.qZA()(),t.TgZ(31,"div",5)(32,"p"),t._uU(33),t.ALo(34,"date"),t.qZA(),t.TgZ(35,"p",6),t._uU(36,"Next Important Date"),t.qZA()()()()()()),2&e&&(t.xp6(3),t.Oqu(c.subject.title),t.xp6(5),t.Oqu(c.subject.subject_code),t.xp6(5),t.Oqu(c.subject.blocks),t.xp6(5),t.Oqu(c.subject.chapters),t.xp6(5),t.Oqu(c.subject.completed_chapters),t.xp6(5),t.Oqu(c.subject.next_chapter),t.xp6(5),t.Oqu(t.lcZ(34,7,c.subject.next_important_date)))},dependencies:[u.uU],styles:[".subject-card-title[_ngcontent-%COMP%]{font-weight:900}"]}),s})();function j(s,i){if(1&s){const e=t.EpF();t.TgZ(0,"div")(1,"app-card",1),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.redirectToView(n.id))}),t.qZA()()}if(2&s){const e=i.$implicit;t.xp6(1),t.Q6J("subject",e)}}function v(s,i){if(1&s&&(t.TgZ(0,"div",8)(1,"div",4)(2,"p",9),t._uU(3),t.qZA(),t.TgZ(4,"div",10)(5,"div",11)(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9,"Block"),t.qZA()(),t.TgZ(10,"div",11)(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"p"),t._uU(14,"Total Chapters"),t.qZA()(),t.TgZ(15,"div",11)(16,"p"),t._uU(17),t.qZA(),t.TgZ(18,"p"),t._uU(19,"Completed Chapters"),t.qZA()(),t.TgZ(20,"div",11)(21,"p"),t._uU(22),t.qZA(),t.TgZ(23,"p"),t._uU(24,"Next Chapter"),t.qZA()(),t.TgZ(25,"div",11)(26,"p"),t._uU(27),t.ALo(28,"date"),t.qZA(),t.TgZ(29,"p"),t._uU(30,"Next Important Date"),t.qZA()()()()()),2&s){const e=t.oxw();t.xp6(3),t.AsE("",e.subject.subject_code," - ",e.subject.title,""),t.xp6(4),t.Oqu(e.subject.blocks),t.xp6(5),t.Oqu(e.subject.total_chapters),t.xp6(5),t.Oqu(e.subject.completed_chapters),t.xp6(5),t.Oqu(e.subject.next_chapter),t.xp6(5),t.Oqu(t.lcZ(28,7,e.subject.next_important_date))}}function _(s,i){1&s&&(t.TgZ(0,"button",15),t._UZ(1,"span",16),t._uU(2,"Completed"),t.qZA()),2&s&&(t.xp6(1),t.Tol("mr-25"),t.Q6J("data-feather","check"))}function Z(s,i){if(1&s){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,n=t.oxw();return t.KtG(n.updateChapterStatus(r.id))}),t._UZ(1,"span",16),t._uU(2,"Done"),t.qZA()}2&s&&(t.xp6(1),t.Tol("mr-25"),t.Q6J("data-feather","check"))}function x(s,i){if(1&s&&(t.TgZ(0,"li",12)(1,"span"),t._uU(2),t.qZA(),t.YNc(3,_,3,3,"button",13),t.YNc(4,Z,3,3,"button",14),t.qZA()),2&s){const e=i.$implicit;t.xp6(2),t.Oqu(e.title),t.xp6(1),t.Q6J("ngIf",e.is_completed),t.xp6(1),t.Q6J("ngIf",!e.is_completed)}}function T(s,i){if(1&s&&(t.TgZ(0,"li",12)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&s){const e=i.$implicit;t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Oqu(e.chapter)}}const S=[{path:"",component:(()=>{class s{constructor(e,c){this.router=e,this.subjectService=c,this.subjects=[]}ngOnInit(){this.getAllSubjects()}getAllSubjects(){var e=this;return(0,a.Z)(function*(){if(e.subjectService.listOfSubjects)return void(e.subjects=e.subjectService.listOfSubjects);let{data:c,error:r}=yield e.subjectService.getSubjects();r?console.error("error",r.message):(e.subjectService.listOfSubjects=c,e.subjects=c)})()}redirectToView(e){let c=this.subjects.findIndex(r=>r.id==e);this.subjectService.subjectData=this.subjects[c],this.router.navigate(["../subject/view",e])}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(l.F0),t.Y36(m))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-list"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"subject","click"]],template:function(e,c){1&e&&t.YNc(0,j,2,1,"div",0),2&e&&t.Q6J("ngForOf",c.subjects)},dependencies:[u.sg,f]}),s})(),title:"Subjects - "+p.N.title,data:{animation:"subject"}},{path:"view/:id",component:(()=>{class s{constructor(e,c){this.route=e,this.subjectService=c,this.chapters=[],this.subjectId=0}ngOnInit(){this.route.paramMap.subscribe(e=>{this.subjectId=+e.get("id")}),this.getSubject(this.subjectId),this.getChapters(this.subjectId),this.getTopics(this.subjectId)}getSubject(e){var c=this;return(0,a.Z)(function*(){if(c.subjectService.subjectData&&c.subjectService.subjectData.id==e)return void(c.subject=c.subjectService.subjectData);let{data:r,error:n}=yield c.subjectService.getSubjectViaId(e);n?console.error("subject error",n.message):(c.subjectService.subjectData=r[0],c.subject=r[0])})()}getChapters(e){var c=this;return(0,a.Z)(function*(){if(c.subjectService.listOfChapters&&c.subjectService.listOfChapters[0].subject_id==e)return void(c.chapters=c.subjectService.listOfChapters);let{data:r,error:n}=yield c.subjectService.getChapters(e);n?console.error("error",n.message):(c.subjectService.listOfChapters=r,c.chapters=r),c.subjectService.getChapters(e)})()}getTopics(e){var c=this;return(0,a.Z)(function*(){if(c.subjectService.listOfTopics&&c.subjectService.listOfTopics[0]?.subject_id==e)return void(c.topics=c.subjectService.listOfTopics);let{data:r,error:n}=yield c.subjectService.getTopics(e);n?console.error("error",n.message):(c.subjectService.listOfTopics=r,c.topics=r)})()}updateChapterStatus(e){var c=this;return(0,a.Z)(function*(){let{data:r,error:n}=yield c.subjectService.updateChapterStatus(e,!0);if(n)console.error("update Error",n.message);else{console.log("success",r);let d=c.topics.findIndex(A=>A.id===e);c.subjectService.listOfChapters[d].is_completed=!0,c.topics[d].is_completed=!0}})()}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(l.gz),t.Y36(m))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-view"]],decls:17,vars:3,consts:[["class","card",4,"ngIf"],[1,"row"],[1,"col-6"],[1,"card","chapter-list"],[1,"card-body"],[1,"card-tite"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"card"],[1,"card-title","text-center"],[1,"row","text-center"],[1,"col-2"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],["type","button","class","btn btn-flat-success","rippleEffect","",4,"ngIf"],["type","button","class","btn btn-outline-primary","rippleEffect","",3,"click",4,"ngIf"],["type","button","rippleEffect","",1,"btn","btn-flat-success"],[3,"data-feather"],["type","button","rippleEffect","",1,"btn","btn-outline-primary",3,"click"]],template:function(e,c){1&e&&(t.YNc(0,v,31,9,"div",0),t.TgZ(1,"div")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"p",5),t._uU(7,"Chapter List"),t.qZA(),t.TgZ(8,"ul",6),t.YNc(9,x,5,3,"li",7),t.qZA()()()(),t.TgZ(10,"div",2)(11,"div",3)(12,"div",4)(13,"p",5),t._uU(14,"Important Topic List"),t.qZA(),t.TgZ(15,"ul",6),t.YNc(16,T,5,2,"li",7),t.qZA()()()()()()),2&e&&(t.Q6J("ngIf",c.subject),t.xp6(9),t.Q6J("ngForOf",c.chapters),t.xp6(7),t.Q6J("ngForOf",c.topics))},dependencies:[u.sg,u.O5,u.uU],styles:[".icon-search-wrapper{max-width:300px}.icon-search-wrapper .feather-search{height:1.15rem;width:1.15rem}#icons-container .icon-card{width:128px}.icon-card{border:1px solid transparent}.icon-card.active{border-color:#7367f0}.icon-card.active i,.icon-card.active svg{color:#7367f0}@media (max-width: 1024px){#icons-container .icon-card{width:126px}}@media (max-width: 768px){#icons-container .icon-card{width:131px}}@media (max-width: 414px){#icons-container .icon-card{width:110px}}@media (max-width: 375px){#icons-container .icon-card{width:150px}}\n"],encapsulation:2}),s})(),title:"Subjects - "+p.N.title,data:{animation:"view"}}];let q=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[u.ez,l.Bz.forChild(S)]}),s})()}}]);